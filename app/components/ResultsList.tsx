'use client'; import { useState } from 'react'; interface SearchResult { url: string; timestamp: string; statusCode: number; } interface ResultsListProps { results: SearchResult[]; } export default function ResultsList({ results }: ResultsListProps) { const [copied, setCopied] = useState<string | null>(null); const copyToClipboard = (url: string) => { navigator.clipboard.writeText(url); setCopied(url); setTimeout(() => setCopied(null), 2000); }; const getWaybackUrl = (url: string, timestamp: string) => { return `https://web.archive.org/web/${timestamp}/${url}`; }; const formatDate = (timestamp: string) => { const year = timestamp.substring(0, 4); const month = timestamp.substring(4, 6); const day = timestamp.substring(6, 8); const hour = timestamp.substring(8, 10); const minute = timestamp.substring(10, 12); return `${day}/${month}/${year} ${hour}:${minute}`; }; const getStatusColor = (status: number) => { if (status >= 200 && status < 300) return 'text-green-400'; if (status >= 300 && status < 400) return 'text-yellow-400'; if (status >= 400) return 'text-red-400'; return 'text-gray-400'; }; return ( <div className="space-y-3 max-h-96 overflow-y-auto"> {results.map((result, index) => ( <div key={index} className="bg-slate-800/30 border border-purple-500/30 rounded-lg p-4 hover:bg-slate-800/50 transition-all" > <div className="flex items-start justify-between gap-4"> <div className="flex-1 min-w-0"> <p className="text-sm text-purple-300 mb-2"> <a href={getWaybackUrl(result.url, result.timestamp)} target="_blank" rel="noopener noreferrer" className="text-purple-400 hover:text-purple-300 underline break-all" > {result.url} </a> </p> <div className="flex flex-wrap gap-4 text-xs"> <span className="text-gray-400"> ðŸ“… {formatDate(result.timestamp)} </span> <span className={`font-bold ${getStatusColor(result.statusCode)}`}> Status: {result.statusCode} </span> </div> </div> <button onClick={() => copyToClipboard(result.url)} className="flex-shrink-0 px-3 py-2 bg-purple-600 hover:bg-purple-500 text-white text-sm rounded transition-all" > {copied === result.url ? 'âœ“ Copiado' : 'Copiar'} </button> </div> </div> ))} {results.length > 0 && ( <div className="text-center pt-4 border-t border-purple-500/30"> <p className="text-purple-300 font-semibold"> Se encontraron {results.length} pÃ¡gina(s) indexada(s) </p> </div> )} </div> ); }